<!-- <!DOCTYPE html> -->
<html lang="fi">
  <head>
    <meta charset="UTF-8" />
    <title>Puhelinluettelo</title>

    <!-- INCLUDING JQUERY-->
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>

    <!-- CSS FOR STYLING THE PAGE -->
    <style>
      h1 {
        text-align: center;
      }

      table,
      td {
        font-size: 110%;
        margin: auto;
        table-layout: auto;
        width: 70%;
        padding: 1px;
        border: 1px solid black;
        border-collapse: collapse;
        background-color: #4d5d53;
        text-align: center;
        color: white;
      }

      th {
        font-size: 2em;
        color: #4d5d53;
        background-color: white;
      }
    </style>
  </head>

  <body>
    <script>
      // ***** The FOR-loop solution *****
      // $(document).ready(function () {
      //   $.getJSON("http://localhost:3000/users", function (data) {
      //     var tr;
      //     var items = "";
      //     for (var i = 0; i < data.length; i++) {
      //       tr = $("<tr/>");
      //       tr.append("<td>" + data[i].nimi + "</td>");
      //       tr.append("<td>" + data[i].puhelin + "</td>");
      //       $("#table").append(tr);
      //     }
      //   });
      // });

      /* @mikkoant
      Käyttöliittymässä sinun kannattaa tehdä apumuuttuja siellä eli

      var hlo= "";
      hlo=....
      //kasaa tässä taulukon rivi liittämällä data ja tagit +:lla yhteen
      
      */
      //***** and the initial approach to the problem *****
      $(document).ready(function () {
        // FETCHING DATA FROM JSON FILE
        $.getJSON("http://localhost:3000/users", function (data) {
          var items = "";
          console.log(data);
          // data on se mitä käsitellään ja funktio se mitä tehdään jokaiselle ?riville?
          $.each(data, function (index, value) {
            tr = $("<tr/>");
            tr.append("<td>" + data[index].nimi + "</td>");
            tr.append("<td>" + data[index].puhelin + "</td>");
            $("#table").append(tr);
          });
        });
      });
    </script>

    <h1>Puhelinluettelo</h1>

    <!-- TABLE CONSTRUCTION-->
    <section id="table-show">
      <table id="table">
        <tr>
          <th>Nimi</th>
          <th>Puhelin</th>
        </tr>
      </table>
    </section>
  </body>
</html>
